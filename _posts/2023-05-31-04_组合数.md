# 四、组合数

先学习下排列数。

## 1. 排列数的概念定义

排列数指的是从 n 个不同元素中任取 $r(r≤n)$ 个元素排成一列（考虑元素先后出现次序）称此为一个**排列**，此种排列的总数即为**排列数**，即叫做从 n 个不同元素中取出 r 个元素的排列数。

排列数用 $A_{n}^{m}$ 或 $A(n,m)$ 表示，也可以用 $P_{n}^{m}$ 或 $P(n,m)$ 表示。

## 2. 排列数的计算公式

<font size=5px >$A_{n}^{m} =  \frac{n!}{(n-m)!}=n(n-1)(n-2)……(n-m+1)$ 。</font> 当 n = m 时，分母为 0! = 1。

## 3. 组合数的概念定义

从 n 个不同元素中，任取 $m(m≤n)$ 个元素并成一组，叫做从 n 个不同元素中取出 m 个元素的一个**组合**；从 n 个不同元素中取出$m(m≤n)$ 个元素的所有组合的个数，叫做从 n 个不同元素中取出 m 个元素的**组合数**。

组合数表示为 $C_{n}^{m}$ 或 $C(n,m)$ 。

## 4. 组合数的计算公式

<font size=5px >$C_{n}^{m} =  \frac{n!}{m!(n-m)!}=\frac{A_{n}^{m}}{m!},C_{n}^{0} = 1$ 。</font> 

## 5. 组合数的性质

**互补性质**：即从*n*个不同元素中取出*m*个元素的组合数 = 从*n*个不同元素中取出 (*n-m*) 个元素的组合数；用公式表为：

<font size=5px>$C_{n}^{m} =  \frac{n!}{m!(n-m)!}=C_{n}^{n-m}$</font> 

规定：

+ $C_{n}^{0}=1$ 
+ $C_{n}^{n}=1$ 
+ $C_{0}^{0}=1$ 

**组合恒等式**：若表示在 n 个物品中选取 m 个物品，则如存在下述公式：

<font size=5px>$C_{n}^{m}=C_{n}^{n-m}=C_{n-1}^{m-1}+C_{n-1}^{m}$</font>

## 6. 组合数的递推公式

<font size=5px>$C_{n}^{m}=C_{n-1}^{m-1}+C_{n-1}^{m}$</font>

理解：$C_{n}^{m}$ 表示从 n 个元素中取出 m 个元素，假设 m 个元素中任意一个元素为 特殊元素 ，所以从 n 个元素中取出 m 个元素这一过程可以表示为两个部分：

+ 包含该特殊元素：即 m 个被选元素中包含了这一特殊元素，相当于从 n-1 个元素中选出了 m-1 个元素的组合，即 $C_{n-1}^{m-1}$ 。
+ 不包含该特殊元素：即 m 个被选元素中不包含这一特殊元素，相当于从 n-1 个元素中选出了 n 个元素的组合，即 $C_{n-1}^{m}$ 。

【举例】：从 $1,2,3,4,5(n=5)$ 中取出 $2(m=2)$ 个数，即 $C_{5}^{2}$ ，有以下情况：

$(1,2)，(1,3)，(1,4)，(1,5)，(2,3)，(2,4)，(2,5)，(3,4)，(3,5)，(4,5)$

假设其中 1 是特殊元素，所有的组合可以分为两部分：

+ 包含 1 ：确定 1 是取出的 2（m）个元素之一，另一个元素则在剩下的 4（n-1）个数中取出 1（m-1）个即可，即 $C_{4}^{1}$ 。
+ 不包含 1 ：不考虑取出 1 的情况，从 剩下的 4（n-1）个数中取出 2（m）个数，即 $C_{4}^{2}$ 。

所以 $C_{5}^{2} = C_{4}^{1} + C_{4}^{2}$ 。

## 7. 题目练习

| 序号 |                           题目链接                           |                       备注                       |
| :--: | :----------------------------------------------------------: | :----------------------------------------------: |
|  1   | [杨辉三角](https://leetcode.cn/problems/pascals-triangle/description/) | 简单题，杨辉三角的递推公式类似于组合数的递推公式 |
|  2   | [杨辉三角 II](https://leetcode.cn/problems/pascals-triangle-ii/description/) |               简单题，上一题的变种               |

[杨辉三角](https://leetcode.cn/problems/pascals-triangle/description/)

**题目描述**

> 定一个非负整数 *`numRows`，*生成「杨辉三角」的前 *`numRows`* 行。
>
> 在「杨辉三角」中，每个数是它左上方和右上方的数的和。

**Java代码**

```java
class Solution {
    public List<List<Integer>> generate(int numRows) {
        List<List<Integer>> ans = new ArrayList<>();
        for (int i = 0; i < numRows; i++) {
            List<Integer> t = new ArrayList<>();
            t.add(1);
            for (int j = 1; j < i; j++) {
                int n1 = ans.get(i-1).get(j);
                int n2 = ans.get(i-1).get(j-1);
                t.add(n1+n2);
            }
            if (i != 0)
                t.add(1);
            ans.add(t);
        }
        return ans;
    }
}
```

---